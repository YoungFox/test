 version: "3"
 services:
   web:
     # 将 username/repo:tag 替换为您的名称和镜像详细信息
     image: yangwenliang/test:part1
     deploy:
       replicas: 5
       restart_policy:
         condition: on-failure
       resources:
         limits:
           cpus: "0.1"
           memory: 50M
     ports:
       - "4000:80"
     networks:
       - webnet
   visualizer:
     image: dockersamples/visualizer:stable
     ports:
       - "8080:8080"
     volumes:
       - "/var/run/docker.sock:/var/run/docker.sock"
     deploy:
       placement:
         constraints: [node.role == manager]
     networks:
       - webnet
 networks:
   webnet: