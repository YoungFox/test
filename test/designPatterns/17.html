<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>适配器模式</title>
</head>

<body>
    <script>
        //    var googleMap = {
        //        show: function(){
        //            console.log('开始渲染谷歌地图')
        //        }
        //    }

        //    var baiduMap = {
        //        display: function(){
        //            console.log('开始渲染百度地图')
        //        }
        //    }
        //    var renderMap = function(map){
        //        if(map.show instanceof Function){
        //            map.show()
        //        }
        //    }

        //    var baiduMapAdapter = {
        //        show: function(){
        //            return baiduMap.display()
        //        }
        //    }

        //    renderMap(googleMap)
        //    renderMap(baiduMap)

        //    renderMap(baiduMapAdapter)

        var getGuangdongCity = function () {
            var guangdongCity = [
                {
                    name: 'shenzhen',
                    id: 11
                },
                {
                    name: 'guangzhou',
                    id: 12
                }
            ]

            return guangdongCity
        }

        var render = function (fn) {
            console.log('开始渲染广东省地图')
            document.write(JSON.stringify(fn()))
        }

        render(getGuangdongCity)


        var guangdongCity = {
            shenzhen: 11,
            guangzhou: 12,
            zhuhai: 13
        }

        dataAdapter = function (address) {
            return function () {
                address = address || {}
                let res = []
                for (var i in address) {
                    res.push({
                        name: address[i],
                        id: i
                    })
                }

                return res
            }
        }

        render(dataAdapter(guangdongCity))
    </script>
</body>

</html>